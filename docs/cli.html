<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Reference - AVP Documentation</title>
    <link rel="icon" href="../assets/avp-icon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .docs-container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        .back-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); text-decoration: none; margin-bottom: 2rem; }
        .back-link:hover { color: var(--accent); }
        h1 { color: var(--text-primary); margin-bottom: 0.5rem; }
        h2 { color: var(--accent); margin-top: 2.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
        h3 { color: var(--text-primary); margin-top: 1.5rem; }
        p, li { color: var(--text-secondary); line-height: 1.7; }
        pre { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        code { font-family: 'Fira Code', 'SF Mono', Monaco, monospace; font-size: 0.9rem; color: var(--accent); }
        pre code { color: var(--text-primary); }
        .command { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; margin: 1rem 0; }
        .command-name { font-family: monospace; color: var(--accent); font-size: 1.1rem; margin-bottom: 0.5rem; }
        .option { color: #f9a825; }
        .note { background: rgba(0, 212, 170, 0.1); border-left: 3px solid var(--accent); padding: 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
    </style>
</head>
<body>
    <div class="docs-container">
        <a href="index.html" class="back-link">â† Back to Docs</a>

        <h1>ğŸ’» CLI Reference</h1>
        <p>Command-line interface for managing AVP credentials</p>

        <h2>Installation</h2>
<pre><code>pip install avp-cli</code></pre>

        <h2>Global Options</h2>
        <p>These options are available for all commands:</p>
<pre><code>--vault, -v     Path to vault file (default: ~/.avp/vault.enc)
--password, -p  Vault password (will prompt if not provided)
--workspace, -w Workspace name (default: "default")
--help          Show help message</code></pre>

        <h2>Commands</h2>

        <div class="command">
            <div class="command-name">avp init</div>
            <p>Initialize a new AVP vault.</p>
<pre><code># Interactive (prompts for password)
avp init

# With specific path
avp init --vault ~/my-vault.enc

# With password (not recommended for security)
avp init --password "secure-password"</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp store &lt;key&gt; &lt;value&gt;</div>
            <p>Store a credential in the vault.</p>
<pre><code># Store an API key
avp store openai_api_key "sk-..."

# Store in specific workspace
avp store db_password "secret" --workspace production

# Password will be prompted
Password:</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp get &lt;key&gt;</div>
            <p>Retrieve a credential from the vault.</p>
<pre><code># Get a credential
avp get openai_api_key
openai_api_key: sk-...

# Quiet mode (only value, great for scripts)
avp get openai_api_key --quiet
sk-...

# Use in shell scripts
export OPENAI_API_KEY=$(avp get openai_api_key -q)</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp list</div>
            <p>List all credentials in a workspace.</p>
<pre><code>avp list

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key                â”‚ Version â”‚ Created    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ openai_api_key     â”‚ 2       â”‚ 2024-02-18 â”‚
â”‚ anthropic_api_key  â”‚ 1       â”‚ 2024-02-17 â”‚
â”‚ db_password        â”‚ 3       â”‚ 2024-02-15 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp delete &lt;key&gt;</div>
            <p>Delete a credential from the vault.</p>
<pre><code># Delete with confirmation
avp delete old_api_key
Delete credential 'old_api_key'? [y/N]: y
âœ“ Deleted credential: old_api_key

# Force delete (no confirmation)
avp delete old_api_key --force</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp rotate &lt;key&gt; &lt;new_value&gt;</div>
            <p>Rotate a credential with version tracking.</p>
<pre><code>avp rotate openai_api_key "sk-new-..."
âœ“ Rotated credential: openai_api_key</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp info</div>
            <p>Show vault information.</p>
<pre><code>avp info

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚              AVP Vault Info              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vault Path: /Users/you/.avp/vault.enc    â”‚
â”‚ Size: 4.2 KB                             â”‚
â”‚ Credentials: 12                          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp import &lt;source&gt;</div>
            <p>Import credentials from a file.</p>
<pre><code># From JSON
avp import secrets.json --format json

# From .env file
avp import .env --format dotenv

# Import to specific workspace
avp import prod.json --workspace production</code></pre>
        </div>

        <div class="command">
            <div class="command-name">avp export &lt;destination&gt;</div>
            <p>Export credentials to a file.</p>
<pre><code># Export to JSON
avp export backup.json --format json

# Export to .env format
avp export .env --format dotenv</code></pre>
            <div class="note">
                <strong>âš ï¸ Warning:</strong> Exported files contain sensitive data in plaintext. Handle with care!
            </div>
        </div>

        <h2>Environment Variables</h2>
<pre><code>AVP_VAULT       Path to vault file
AVP_PASSWORD    Vault password (use with caution)
AVP_WORKSPACE   Default workspace</code></pre>

        <h2>Examples</h2>

        <h3>Basic Workflow</h3>
<pre><code># Initialize vault
avp init

# Store credentials
avp store openai_api_key "sk-..."
avp store anthropic_api_key "sk-ant-..."

# List all credentials
avp list

# Use in your application
export OPENAI_API_KEY=$(avp get openai_api_key -q)
python my_agent.py</code></pre>

        <h3>Multiple Workspaces</h3>
<pre><code># Development workspace
avp store api_key "dev-key" --workspace dev

# Production workspace
avp store api_key "prod-key" --workspace prod

# Switch between them
avp get api_key --workspace dev   # dev-key
avp get api_key --workspace prod  # prod-key</code></pre>

        <h3>CI/CD Integration</h3>
<pre><code># In your CI pipeline
- name: Setup AVP
  run: |
    pip install avp-cli
    echo "${{ secrets.AVP_PASSWORD }}" | avp get db_password -q > /tmp/db_pass

- name: Run tests
  env:
    DB_PASSWORD: $(cat /tmp/db_pass)
  run: pytest</code></pre>

        <footer style="text-align: center; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border);">
            <p style="color: var(--text-secondary);">
                <a href="https://github.com/avp-protocol/avp-cli" style="color: var(--accent);">View on GitHub</a> Â·
                <a href="https://pypi.org/project/avp-cli/" style="color: var(--accent);">PyPI</a>
            </p>
        </footer>
    </div>
</body>
</html>
